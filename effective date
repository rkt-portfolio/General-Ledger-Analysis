/* Dealing with Effective date outside testing period
RENAMING ACCOUNT AND DEFINING EFF DATE BASED ON PERIOD : */
%*** NO NEED TO UPDATE THE NEXT 3 LINES ***;
    %IF &PERIOD_INFO=NULL %THEN PERIOD=MONTH(EFFECTIVE_DATE);;
    %IF &PER_YEAR_INFO=NULL %THEN YEAR=YEAR(EFFECTIVE_DATE);;

		   IF PERIOD=1 THEN EFFECTIVE_DATE='02JAN2012'D;
		   ELSE IF PERIOD=2 THEN EFFECTIVE_DATE='01FEB2012'D;
		   ELSE IF PERIOD=3 THEN EFFECTIVE_DATE='01MAR2012'D;
		   ELSE IF PERIOD=4 THEN EFFECTIVE_DATE='02APR2012'D;
		   ELSE IF PERIOD=5 THEN EFFECTIVE_DATE='01MAY2012'D;
		   ELSE IF PERIOD=6 THEN EFFECTIVE_DATE='01JUN2012'D;
		   ELSE IF PERIOD=7 THEN EFFECTIVE_DATE='02JUL2012'D;
		   ELSE IF PERIOD=8 THEN EFFECTIVE_DATE='01AUG2012'D;
		   ELSE IF PERIOD=9 THEN EFFECTIVE_DATE='03SEP2012'D;
		   ELSE IF PERIOD=10 THEN EFFECTIVE_DATE='01OCT2012'D;
		   ELSE IF PERIOD=11 THEN EFFECTIVE_DATE='01NOV2012'D;
		   ELSE IF PERIOD=12 THEN EFFECTIVE_DATE='03DEC2012'D;

		   LENGTH ACCOUNT_NEW $50.;
  			ACCOUNT_NEW=SCAN(STRIP(ACCOUNT),1,".")||"."||SCAN(STRIP(ACCOUNT),3,".");
		   DROP ACCOUNT;
		   RENAME ACCOUNT_NEW=ACCOUNT;


FORCING EFFECTIVE DATES TO BE WITHIN TESTING PERIOD :
IF EFFECTIVE_DATE GT '31DEC2012'D THEN EFFECTIVE_DATE_NEW='31dec2012'd;
		   ELSE IF EFFECTIVE_DATE LT '01JAN2012'D THEN EFFECTIVE_DATE_NEW='01JAN2012'D;
		   ELSE EFFECTIVE_DATE_NEW=EFFECTIVE_DATE;
			FORMAT EFFECTIVE_DATE_NEW MMDDYY10.;
		   DROP EFFECTIVE_DATE;
		   RENAME EFFECTIVE_DATE_NEW=EFFECTIVE_DATE;

RUN;QUIT;
